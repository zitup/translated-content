---
title: WindowBase64.btoa()
slug: Web/API/btoa
tags:
  - API
  - DOM
  - Méthode
  - Reference
  - Web
  - WindowOrWorkerGlobalScope
  - btoa
  - chaînes
  - données
translation_of: Web/API/WindowOrWorkerGlobalScope/btoa
original_slug: Web/API/WindowOrWorkerGlobalScope/btoa
---
<div>{{APIRef("HTML DOM")}}</div>

<p>La méthode <code>WindowOrWorkerGlobalScope.btoa()</code> crée une chaîne ASCII codée en base 64 à partir d'un objet {{jsxref ("String")}} dans lequel chaque caractère de la chaîne est traité comme un octet de données binaires.</p>

<div class="note">
<p><strong>Note :</strong> étant donné que cette fonction traite chaque caractère comme un octet de données binaires, quel que soit le nombre d'octets composant le caractère, une exception <code>InvalidCharacterError</code> est déclenchée si le {{Glossary("code point")}} d'un caractère quelconque est en dehors de la plage 0x00 à 0xFF. Voir {{anch("Chaînes Unicode")}} pour un exemple montrant comment encoder des chaînes avec des caractères en dehors de la plage 0x00 à 0xFF.</p>
</div>

<h2 id="Syntaxe">Syntaxe</h2>

<pre>var donneesEncodees = scope.btoa(<em>chaineAEncoder</em>);
</pre>

<h3 id="Paramètres">Paramètres</h3>

<dl>
 <dt><code>chaineAEncoder</code></dt>
 <dd>Une chaîne dont les caractères représentent chacun un octet unique de données binaires à encoder en ASCII.</dd>
</dl>

<h3 id="Valeur_retournée">Valeur retournée</h3>

<p>Une chaîne contenant la représentation Base64 de la <code>chaineAEncoder</code>.</p>

<h3 id="Exceptions">Exceptions</h3>

<h2 id="Exemple">Exemple</h2>

<pre class="eval">var donneesEncodees = window.btoa('Salut, monde'); // encode une chaîne<em>
</em>var donneesDecodees = window.atob(donneesEncodees); // décode la chaîne
</pre>

<h2 id="Notes" name="Notes">Notes</h2>

<p>Vous pouvez utiliser cette méthode pour encoder des données qui, autrement, pourraient engendrer des problèmes de communication, les transmettre et utiliser alors la méthode {{domxref("WindowOrWorkerGlobalScope.atob","atob()")}} pour décoder les données à nouveau. Par exemple, vous pouvez encoder des caractères de contrôle tels que les valeurs ASCII de 0 à 31.</p>

<p><code>btoa()</code> est également disponible pour les composants XPCOM implémentés en JavaScript, même si {domxref("Window")}} n'est pas l'objet global dans les composants.</p>

<h2 id="Chaînes_Unicode">Chaînes Unicode</h2>

<p>Dans la plupart des navigateurs, l'appel de <code>btoa()</code> sur une chaîne Unicode engendrera une exception <code>InvalidCharacterError</code>.</p>

<p>Une option est d'échapper tous les caractères étendus, de telle sorte que la chaîne que vous voulez en fait encoder soit une représentation ASCII de l'original. Voyez cet exemple, noté par <a href="http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html" title="http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html">Johan Sundström</a> :</p>

<pre id="txt"><code>// Chaîne ucs-2 en ascii encodé en base64
function uena(chn) {
    return window.btoa(unescape(encodeURIComponent(chn)));
}
// Ascii encodé en base64 en chaîne ucs-2
function aenu(chn) {
    return decodeURIComponent(escape(window.atob(chn)));
}
// Usage :
uena('✓ à la mode'); // 4pyTIMOgIGxhIG1vZGU=
aenu('4pyTIMOgIGxhIG1vZGU='); // "✓ à la mode"

uena('I \u2661 Unicode!'); // SSDimaEgVW5pY29kZSE=
aenu('SSDimaEgVW5pY29kZSE='); // "I ♡ Unicode!"</code></pre>

<p>Une solution meilleure, plus fiable et moins coûteuse consiste à <a href="https://developer.mozilla.org/fr/docs/D%C3%A9coder_encoder_en_base64">utiliser des tableaux typés pour faire la conversion</a>.</p>

<h2 id="Spécifications">Spécifications</h2>

<table>
 <thead>
  <tr>
   <th scope="col">Spécification</th>
   <th scope="col">Statut</th>
   <th scope="col">Commentaire</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>{{SpecName('HTML WHATWG', 'webappapis.html#dom-btoa', 'WindowOrWorkerGlobalScope.btoa()')}}</td>
   <td>{{Spec2('HTML WHATWG')}}</td>
   <td>Méthode déplacée dans le mixin <code>WindowOrWorkerGlobalScope</code> dans la spéc la plus récente.</td>
  </tr>
  <tr>
   <td>{{SpecName('HTML WHATWG', '#dom-windowbase64-btoa', 'WindowBase64.btoa()')}}</td>
   <td>{{Spec2('HTML WHATWG')}}</td>
   <td>Pas de changement depuis le dernier instantané, {{SpecName("HTML5.1")}}.</td>
  </tr>
  <tr>
   <td>{{SpecName('HTML5.1', '#dom-windowbase64-btoa', 'WindowBase64.btoa()')}}</td>
   <td>{{Spec2('HTML5.1')}}</td>
   <td>Instantané de {{SpecName("HTML WHATWG")}}. Pas de changement.</td>
  </tr>
  <tr>
   <td>{{SpecName("HTML5 W3C", "#dom-windowbase64-btoa", "WindowBase64.btoa()")}}</td>
   <td>{{Spec2('HTML5 W3C')}}</td>
   <td>Instantané de {{SpecName("HTML WHATWG")}}. Création de <code>WindowBase64</code> (les propriétés se trouvaient sur la cible avant cela).</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilité_des_navigateurs">Compatibilité des navigateurs</h2>

<p>{{Compat("api.WindowOrWorkerGlobalScope.btoa")}}</p>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding">Base64 encoding and decoding</a></li>
 <li><a href="https://developer.mozilla.org/fr/docs/Web/HTTP/Basics_of_HTTP/Data_URIs">Les URL de <code>données</code></a></li>
 <li>{{domxref("WindowOrWorkerGlobalScope.atob","atob()")}}</li>
 <li><a href="https://developer.mozilla.org/en-US/docs/Components.utils.importGlobalProperties">Components.utils.importGlobalProperties</a></li>
</ul>
